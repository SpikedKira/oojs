<!DOCTYPE html>
<html>
  <head>
    <script>
      var TestClosure = function() {

        /* create a Pet class */
        var Pet = Class (
          function( name ) {
            console.log("pet constructor");
            this.name = name;
            var x = name;

            this.getName = function() {
              return x;
            };

            console.log("end pet const");
        } );


        /* create a Dog class that extends Pet */
        var Dog = Class ( Extend, Pet,
          function( name ) {
            console.log("dog constructor");
            var _super = this.initialize(arguments);

            this.traits = {};

            this.getName = function() {
              return "test " + _super.getName();
            };

            console.log("end dog const");
        } );


        /* create a Beagle class that extends Dog */
        var Beagle = Class ( Extend, Dog,
          function( name ) {
            console.log("beagle constructor");
            var _super = this.initialize(arguments);

            this.name = "Betty";

            this.getName = function() {
              return "beagle: " + _super.getName();
            };

            console.log("end beagle const");
        } );



        var d1 = new Dog( "Sarah" );

        d1.traits.color = "brown";
        d1.traits.weight = 25;

        var d2 = new Beagle( "Monica" );

        d2.traits.color = "white";
        d2.traits.weight = 40;

        console.log( d1.getName(), d1.traits );
        console.log( d2.name );
        console.log( d2.getName(), d2.traits );

        console.log( d2 instanceof Dog && d2 instanceof Beagle );
        console.log( d2.constructor === Beagle );
      }();
    </script>

  </head>
  <body>

  </body>
</html>